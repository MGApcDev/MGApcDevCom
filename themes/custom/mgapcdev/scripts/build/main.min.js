/*! github-activity - v0.1.4 - Copyright 2015 Casey Scarborough */
;function millisecondsToStr(r){function q(b){return b>1?"s ago":" ago"}var p=Math.floor(r/1000),o=Math.floor(p/31536000);if(o){return o+" year"+q(o)}var n=Math.floor((p%=31536000)/2592000);if(n){return n+" month"+q(n)}var m=Math.floor((p%=2592000)/86400);if(m){return m+" day"+q(m)}var l=Math.floor((p%=86400)/3600);if(l){return"about "+l+" hour"+q(l)}var k=Math.floor((p%=3600)/60);if(k){return k+" minute"+q(k)}var j=p%60;return j?j+" second"+q(j):"just now"}function pluralize(d,c){return 1!==c?d+"s":d}function md5cycle(h,g){var l=h[0],k=h[1],j=h[2],i=h[3];l=ff(l,k,j,i,g[0],7,-680876936),i=ff(i,l,k,j,g[1],12,-389564586),j=ff(j,i,l,k,g[2],17,606105819),k=ff(k,j,i,l,g[3],22,-1044525330),l=ff(l,k,j,i,g[4],7,-176418897),i=ff(i,l,k,j,g[5],12,1200080426),j=ff(j,i,l,k,g[6],17,-1473231341),k=ff(k,j,i,l,g[7],22,-45705983),l=ff(l,k,j,i,g[8],7,1770035416),i=ff(i,l,k,j,g[9],12,-1958414417),j=ff(j,i,l,k,g[10],17,-42063),k=ff(k,j,i,l,g[11],22,-1990404162),l=ff(l,k,j,i,g[12],7,1804603682),i=ff(i,l,k,j,g[13],12,-40341101),j=ff(j,i,l,k,g[14],17,-1502002290),k=ff(k,j,i,l,g[15],22,1236535329),l=gg(l,k,j,i,g[1],5,-165796510),i=gg(i,l,k,j,g[6],9,-1069501632),j=gg(j,i,l,k,g[11],14,643717713),k=gg(k,j,i,l,g[0],20,-373897302),l=gg(l,k,j,i,g[5],5,-701558691),i=gg(i,l,k,j,g[10],9,38016083),j=gg(j,i,l,k,g[15],14,-660478335),k=gg(k,j,i,l,g[4],20,-405537848),l=gg(l,k,j,i,g[9],5,568446438),i=gg(i,l,k,j,g[14],9,-1019803690),j=gg(j,i,l,k,g[3],14,-187363961),k=gg(k,j,i,l,g[8],20,1163531501),l=gg(l,k,j,i,g[13],5,-1444681467),i=gg(i,l,k,j,g[2],9,-51403784),j=gg(j,i,l,k,g[7],14,1735328473),k=gg(k,j,i,l,g[12],20,-1926607734),l=hh(l,k,j,i,g[5],4,-378558),i=hh(i,l,k,j,g[8],11,-2022574463),j=hh(j,i,l,k,g[11],16,1839030562),k=hh(k,j,i,l,g[14],23,-35309556),l=hh(l,k,j,i,g[1],4,-1530992060),i=hh(i,l,k,j,g[4],11,1272893353),j=hh(j,i,l,k,g[7],16,-155497632),k=hh(k,j,i,l,g[10],23,-1094730640),l=hh(l,k,j,i,g[13],4,681279174),i=hh(i,l,k,j,g[0],11,-358537222),j=hh(j,i,l,k,g[3],16,-722521979),k=hh(k,j,i,l,g[6],23,76029189),l=hh(l,k,j,i,g[9],4,-640364487),i=hh(i,l,k,j,g[12],11,-421815835),j=hh(j,i,l,k,g[15],16,530742520),k=hh(k,j,i,l,g[2],23,-995338651),l=ii(l,k,j,i,g[0],6,-198630844),i=ii(i,l,k,j,g[7],10,1126891415),j=ii(j,i,l,k,g[14],15,-1416354905),k=ii(k,j,i,l,g[5],21,-57434055),l=ii(l,k,j,i,g[12],6,1700485571),i=ii(i,l,k,j,g[3],10,-1894986606),j=ii(j,i,l,k,g[10],15,-1051523),k=ii(k,j,i,l,g[1],21,-2054922799),l=ii(l,k,j,i,g[8],6,1873313359),i=ii(i,l,k,j,g[15],10,-30611744),j=ii(j,i,l,k,g[6],15,-1560198380),k=ii(k,j,i,l,g[13],21,1309151649),l=ii(l,k,j,i,g[4],6,-145523070),i=ii(i,l,k,j,g[11],10,-1120210379),j=ii(j,i,l,k,g[2],15,718787259),k=ii(k,j,i,l,g[9],21,-343485551),h[0]=add32(l,h[0]),h[1]=add32(k,h[1]),h[2]=add32(j,h[2]),h[3]=add32(i,h[3])}function cmn(h,g,l,k,j,i){return g=add32(add32(g,h),add32(k,i)),add32(g<<j|g>>>32-j,l)}function ff(i,h,n,m,l,k,j){return cmn(h&n|~h&m,i,h,l,k,j)}function gg(i,h,n,m,l,k,j){return cmn(h&m|n&~m,i,h,l,k,j)}function hh(i,h,n,m,l,k,j){return cmn(h^n^m,i,h,l,k,j)}function ii(i,h,n,m,l,k,j){return cmn(n^(h|~m),i,h,l,k,j)}function md51(g){txt="";var f,j=g.length,i=[1732584193,-271733879,-1732584194,271733878];for(f=64;f<=g.length;f+=64){md5cycle(i,md5blk(g.substring(f-64,f)))}g=g.substring(f-64);var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=0;f<g.length;f++){h[f>>2]|=g.charCodeAt(f)<<(f%4<<3)}if(h[f>>2]|=128<<(f%4<<3),f>55){for(md5cycle(i,h),f=0;16>f;f++){h[f]=0}}return h[14]=8*j,md5cycle(i,h),i}function md5blk(e){var d,f=[];for(d=0;64>d;d+=4){f[d>>2]=e.charCodeAt(d)+(e.charCodeAt(d+1)<<8)+(e.charCodeAt(d+2)<<16)+(e.charCodeAt(d+3)<<24)}return f}function rhex(e){for(var d="",f=0;4>f;f++){d+=hex_chr[e>>8*f+4&15]+hex_chr[e>>8*f&15]}return d}function hex(d){for(var c=0;c<d.length;c++){d[c]=rhex(d[c])}return d.join("")}function md5(b){return hex(md51(b))}function add32(d,c){return d+c&4294967295}function add32(f,e){var h=(65535&f)+(65535&e),g=(f>>16)+(e>>16)+(h>>16);return g<<16|65535&h}var GitHubActivity=function(){var d={},c={renderLink:function(f,e,g){return e||(e=f),"undefined"==typeof g&&(g=""),Mustache.render('<a class="'+g+'" href="{{url}}" target="_blank">{{{title}}}</a>',{url:f,title:e})},renderGitHubLink:function(b,f,e){return f||(f=b),"undefined"==typeof e&&(e=""),c.renderLink("https://github.com/"+b,f,e)},getMessageFor:function(v){var u=v.payload;if(v.repoLink=c.renderGitHubLink(v.repo.name),v.userGravatar=Mustache.render('<div class="gha-gravatar-user"><img src="{{url}}" class="gha-gravatar-small"></div>',{url:v.actor.avatar_url}),u.ref&&(v.branch="refs/heads/"===u.ref.substring(0,11)?u.ref.substring(11):u.ref,v.branchLink=c.renderGitHubLink(v.repo.name+"/tree/"+v.branch,v.branch)+" at "),u.commits){var t=u.before+"..."+u.head,s=u.commits.length;2===s?v.commitsMessage=Mustache.render('<a href="https://github.com/{{repo}}/compare/{{shaDiff}}">View comparison for these 2 commits &raquo;</a>',{repo:v.repo.name,shaDiff:t}):s>2&&(v.commitsMessage=Mustache.render('<a href="https://github.com/{{repo}}/compare/{{shaDiff}}">{{length}} more '+pluralize("commit",s-2)+" &raquo;</a>",{repo:v.repo.name,shaDiff:t,length:u.size-2})),u.commits.forEach(function(f,a){return f.message.length>66&&(f.message=f.message.substring(0,66)+"..."),2>a?(f.shaLink=c.renderGitHubLink(v.repo.name+"/commit/"+f.sha,f.sha.substring(0,6),"gha-sha"),void (f.committerGravatar=Mustache.render('<img class="gha-gravatar-commit" src="https://gravatar.com/avatar/{{hash}}?s=30&d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="16" />',{hash:md5(f.author.email)}))):(u.commits.splice(2,u.size),!1)})}if(u.issue){var r=v.repo.name+"#"+u.issue.number;v.issueLink=c.renderLink(u.issue.html_url,r),v.issueType="issue",u.issue.pull_request&&(v.issueType="pull request")}if(u.pull_request){var q=u.pull_request;if(v.pullRequestLink=c.renderLink(q.html_url,v.repo.name+"#"+q.number),v.mergeMessage="",u.pull_request.merged){u.action="merged";var p="{{c}} "+pluralize("commit",q.commits)+" with {{a}} "+pluralize("addition",q.additions)+" and {{d}} "+pluralize("deletion",q.deletions);v.mergeMessage=Mustache.render('<br><small class="gha-message-merge">'+p+"</small>",{c:q.commits,a:q.additions,d:q.deletions})}}if(u.comment&&u.comment.pull_request_url){var r=v.repo.name+"#"+u.comment.pull_request_url.split("/").pop();v.pullRequestLink=c.renderGitHubLink(u.comment.pull_request_url,r)}if(u.comment&&u.comment.body&&(v.comment=u.comment.body,v.comment.length>150&&(v.comment=v.comment.substring(0,150)+"..."),u.comment.html_url&&u.comment.commit_id)){var r=v.repo.name+"@"+u.comment.commit_id.substring(0,10);v.commentLink=c.renderLink(u.comment.html_url,r)}if("ReleaseEvent"===v.type&&(v.tagLink=c.renderLink(u.release.html_url,u.release.tag_name),v.zipLink=c.renderLink(u.release.zipball_url,"Download Source Code (zip)")),"GollumEvent"===v.type){var o=u.pages[0];v.actionType=o.action,v.message=v.actionType.charAt(0).toUpperCase()+v.actionType.slice(1)+" ",v.message+=c.renderGitHubLink(o.html_url,o.title)}"FollowEvent"===v.type&&(v.targetLink=c.renderGitHubLink(u.target.login)),"ForkEvent"===v.type&&(v.forkLink=c.renderGitHubLink(u.forkee.full_name)),"MemberEvent"===v.type&&(v.memberLink=c.renderGitHubLink(u.member.login)),u.gist&&(v.actionType="fork"===u.action?u.action+"ed":u.action+"d",v.gistLink=c.renderLink(u.gist.html_url,"gist: "+u.gist.id));var n,p=Mustache.render(templates[v.type],v),m=millisecondsToStr(new Date-new Date(v.created_at));n="CreateEvent"==v.type&&["repository","branch","tag"].indexOf(u.ref_type)>=0?icons[v.type+"_"+u.ref_type]:icons[v.type];var b={message:p,icon:n,timeString:m,userLink:c.renderGitHubLink(v.actor.login)};return singleLineActivities.indexOf(v.type)>-1?Mustache.render(templates.SingleLineActivity,b):Mustache.render(templates.Activity,b)},getHeaderHTML:function(b){return b.name?b.userNameLink=c.renderLink(b.html_url,b.name):b.withoutName=" without-name",b.userLink=c.renderLink(b.html_url,b.login),b.gravatarLink=c.renderLink(b.html_url,'<img src="'+b.avatar_url+'">'),Mustache.render(templates.UserHeader,b)},getActivityHTML:function(b,j){var i="",h=b.length;if(j&&j>h&&(j=h),j=j?j:h,0===j){return Mustache.render(templates.NoActivity,{})}for(var g=0;j>g;g++){i+=c.getMessageFor(b[g])}return i},getOutputFromRequest:function(f,e){var g=new XMLHttpRequest;g.open("GET",f),g.setRequestHeader("Accept","application/vnd.github.v3+json"),g.onreadystatechange=function(){if(4===g.readyState){if(g.status>=200&&g.status<300){var a=JSON.parse(g.responseText);e(void 0,a)}else{e("request for "+f+" yielded status "+g.status)}}},g.onerror=function(){e("An error occurred connecting to "+f)},g.send()},renderStream:function(f,e){e.innerHTML=Mustache.render(templates.Stream,{text:f,footer:templates.Footer}),e.style.position="relative"},writeOutput:function(b,h){var g="#"===b.charAt(0)?document.getElementById(b.substring(1)):document.getElementsByClassName(b.substring(1));if(g instanceof HTMLCollection){for(var f=0;f<g.length;f++){c.renderStream(h,g[f])}}else{c.renderStream(h,g)}},renderIfReady:function(b,f,e){f&&e&&c.writeOutput(b,f+e)}};return d.feed=function(b){if(!b.username||!b.selector){throw"You must specify the username and selector options for the activity stream."}var p,o,n=b.selector,m="https://api.github.com/users/"+b.username,l=m+"/events";if(b.repository&&(l="https://api.github.com/repos/"+b.username+"/"+b.repository+"/events"),b.clientId&&b.clientSecret){var k="?client_id="+b.clientId+"&client_secret="+b.clientSecret;m+=k,l+=k}if(b.eventsUrl&&(l=b.eventsUrl),"object"==typeof b.templates){for(var j in templates){"string"==typeof b.templates[j]&&(templates[j]=b.templates[j])}}c.getOutputFromRequest(m,function(e,a){p=e?Mustache.render(templates.UserNotFound,{username:b.username}):c.getHeaderHTML(a),c.renderIfReady(n,p,o)}),c.getOutputFromRequest(l,function(i,e){if(i){o=Mustache.render(templates.EventsNotFound,{username:b.username})}else{var a="undefined"!=b.limit?parseInt(b.limit,10):null;o=c.getActivityHTML(e,a)}c.renderIfReady(n,p,o)})},d}(),hex_chr="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=md5("hello");var templates={Stream:'<div class="gha-feed">{{{text}}}<div class="gha-push-small"></div>{{{footer}}}</div>',Activity:'<div id="{{id}}" class="gha-activity">               <div class="gha-activity-icon"><span class="octicon octicon-{{icon}}"></span></div>               <div class="gha-message"><div class="gha-time">{{{timeString}}}</div>{{{userLink}}} {{{message}}}</div>               <div class="gha-clear"></div>             </div>',SingleLineActivity:'<div class="gha-activity gha-small">                         <div class="gha-activity-icon"><span class="octicon octicon-{{icon}}"></span></div>                         <div class="gha-message">{{{userLink}}} {{{message}}}</div><div class="gha-time">{{{timeString}}}</div>                         <div class="gha-clear"></div>                       </div>',UserHeader:'<div class="gha-header">                 <div class="gha-github-icon"><span class="octicon octicon-mark-github"></span></div>                 <div class="gha-user-info{{withoutName}}">{{{userNameLink}}}<p>{{{userLink}}}</p></div>                 <div class="gha-gravatar">{{{gravatarLink}}}</div>               </div><div class="gha-push"></div>',Footer:'<div class="gha-footer">Public Activity <a href="https://github.com/caseyscarborough/github-activity" target="_blank">GitHub Activity Stream</a>',NoActivity:'<div class="gha-info">This user does not have any public activity yet.</div>',UserNotFound:'<div class="gha-info">User {{username}} wasn\'t found.</div>',EventsNotFound:'<div class="gha-info">Events for user {{username}} not found.</div>',CommitCommentEvent:"commented on commit {{{commentLink}}}<br>{{{userGravatar}}}<small>{{comment}}</small>",CreateEvent:"created {{payload.ref_type}} {{{branchLink}}}{{{repoLink}}}",DeleteEvent:"deleted {{payload.ref_type}} {{payload.ref}} at {{{repoLink}}}",FollowEvent:"started following {{{targetLink}}}",ForkEvent:"forked {{{repoLink}}} to {{{forkLink}}}",GistEvent:"{{actionType}} {{{gistLink}}}",GollumEvent:"{{actionType}} the {{{repoLink}}} wiki<br>{{{userGravatar}}}<small>{{{message}}}</small>",IssueCommentEvent:"commented on {{issueType}} {{{issueLink}}}<br>{{{userGravatar}}}<small>{{comment}}</small>",IssuesEvent:"{{payload.action}} issue {{{issueLink}}}<br>{{{userGravatar}}}<small>{{payload.issue.title}}</small>",MemberEvent:"added {{{memberLink}}} to {{{repoLink}}}",PublicEvent:"open sourced {{{repoLink}}}",PullRequestEvent:"{{payload.action}} pull request {{{pullRequestLink}}}<br>{{{userGravatar}}}<small>{{payload.pull_request.title}}</small>{{{mergeMessage}}}",PullRequestReviewCommentEvent:"commented on pull request {{{pullRequestLink}}}<br>{{{userGravatar}}}<small>{{comment}}</small>",PushEvent:'pushed to {{{branchLink}}}{{{repoLink}}}<br>                <ul class="gha-commits">{{#payload.commits}}<li><small>{{{committerGravatar}}} {{{shaLink}}} {{message}}</small></li>{{/payload.commits}}</ul>                <small class="gha-message-commits">{{{commitsMessage}}}</small>',ReleaseEvent:'released {{{tagLink}}} at {{{repoLink}}}<br>{{{userGravatar}}}<small><span class="octicon octicon-cloud-download"></span>  {{{zipLink}}}</small>',WatchEvent:"starred {{{repoLink}}}"},icons={CommitCommentEvent:"comment-discussion",CreateEvent_repository:"repo-create",CreateEvent_tag:"tag-add",CreateEvent_branch:"git-branch-create",DeleteEvent:"repo-delete",FollowEvent:"person-follow",ForkEvent:"repo-forked",GistEvent:"gist",GollumEvent:"repo",IssuesEvent:"issue-opened",IssueCommentEvent:"comment-discussion",MemberEvent:"person",PublicEvent:"globe",PullRequestEvent:"git-pull-request",PullRequestReviewCommentEvent:"comment-discussion",PushEvent:"git-commit",ReleaseEvent:"tag-add",WatchEvent:"star"},singleLineActivities=["CreateEvent","DeleteEvent","FollowEvent","ForkEvent","GistEvent","MemberEvent","WatchEvent"];jQuery(document).ready(function(g){var c;var d=0;var j=5;$nav=g("nav#block-mgapcdev-mainnavigation");var e=$nav.outerHeight();g(window).scroll(function(k){c=true});setInterval(function(){if(c){f();c=false}},250);function f(){var k=g(this).scrollTop();if(Math.abs(d-k)<=j){return}if(k>d&&k>e){$nav.removeClass("nav-down").addClass("nav-up")}else{if(k+g(window).height()<g(document).height()){$nav.removeClass("nav-up").addClass("nav-down")}}d=k}g(".nav-burger").click(function(){g(".navbar-nav").toggleClass("closed")});function h(l,k){return Math.floor(Math.random()*(k-l))+l}var b=h(1,42);g(".android-emote").append('<img onload="this.style.opacity='+1+';" src="/giffy/droid-'+b+'.gif" >').css("opacity","1");g(".android-emote img").load(function(){g(".android-emote .spinner").addClass("fade-background-svg")});var a=drupalSettings.mgapcdev.github.clientId;var i=drupalSettings.mgapcdev.github.clientSecret;GitHubActivity.feed({username:"MGApcDev",selector:"#github-widget",limit:6,clientId:a,clientSecret:i});jQuery(".layout-content").on("DOMSubtreeModified propertychange","#twitter-widget-0",function(){jQuery(".twitter-timeline").contents().find(".timeline-Tweet-media").css("display","none");jQuery(".twitter-block").css("height","100%")})});